# Deploy production app to timetable.of.by manually

name: Manual Production Deploy

on: workflow_dispatch

jobs:
    manual-deploy:
        name: Manual production deploy
        runs-on: ubuntu-latest

        # Only run one deployment at a time.
        concurrency:
            group: manual-prod-deploy

        environment:
            name: prod
            url: https://timetable.of.by/

        steps:
            - name: Get code
              uses: actions/checkout@v4

            - name: Set-up flyctl
              uses: superfly/flyctl-actions/setup-flyctl@master

            - name: Deploy with production config
              if:
              run: flyctl deploy --remote-only --config fly.toml
              env:
                  FLY_API_TOKEN: ${{ secrets.FLY_API_TOKEN }}
